<!DOCTYPE html>
<html lang="en_US">
  <head>
    <meta charset="utf-8" />
    <title>Random Go Stone Placements</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta
      name="author"
      content="Rúnar Berg Baugsson Sigríðarson <runarberg@zoho.com>"
    />

    <meta
      name="description"
      content="Generate a random starting position for your go games"
    />

    <link rel="stylesheet" href="./styles/main.css" />
    <script type="module" src="./src/main.js" defer></script>
  </head>

  <body>
    <header class="main-header">
      <h1>Random Go Stone Placements</h1>
      <p>Generate a random starting position for your go games.</p>
    </header>

    <main class="app">
      <form id="generator-form" class="form">
        <label class="stones-field">
          Number of stones each:
          <input name="stones" type="number" min="0" value="3" />
        </label>

        <label class="size-field">
          Board size:
          <input name="size" type="number" min="9" max="25" value="19" />
        </label>

        <label class="komi-field">
          Komi:
          <input name="komi" type="number" value="6.5" step="0.5" />
        </label>

        <label class="handicap-field">
          Handicap:
          <input name="handicap" type="number" value="0" />
        </label>

        <label class="margins-field">
          Stone free margins:
          <input name="margins" type="number" value="2" />
        </label>

        <label class="prevent-adjacent-field checkbox-field">
          <!-- TODO: Replace with a stone seperation number input -->
          <input name="preventAdjacent" type="checkbox" checked />
          Prevent adjacent stones
        </label>

        <fieldset class="generator-field radio-fieldset">
          <legend>Random Generator</legend>

          <ul class="fields">
            <li>
              <input
                id="input:generator/point"
                name="generator"
                type="radio"
                value="point"
                checked
              />

              <label for="input:generator/point">
                Points
              </label>
            </li>

            <li>
              <input
                id="input:generator/rectangle"
                name="generator"
                type="radio"
                value="rectangle"
              />

              <label for="input:generator/rectangle">
                Rectangles
              </label>
            </li>
          </ul>

          <div class="nested-fields">
            <fieldset class="allocator-field radio-fieldset">
              <legend>Pre-allocate into</legend>

              <ul id="fields:allocator" class="fields">
                <template id="template:fields/allocator/point">
                  <li>
                    <input
                      id="input:allocator/stars"
                      name="allocator"
                      type="radio"
                      value="stars"
                      checked
                    />

                    <label for="input:allocator/stars">
                      Star points
                    </label>
                  </li>

                  <li>
                    <input
                      id="input:allocator/looseTaxicabCirclePacking"
                      name="allocator"
                      type="radio"
                      value="looseTaxicabCirclePacking"
                    />

                    <label for="input:allocator/looseTaxicabCirclePacking">
                      Taxicab circles
                    </label>
                  </li>
                </template>

                <template id="template:fields/allocator/rectangle">
                  <li>
                    <input
                      id="input:allocator/whole"
                      name="allocator"
                      type="radio"
                      value="whole"
                      checked
                    />

                    <label for="input:allocator/whole">
                      Whole board
                    </label>
                  </li>

                  <li>
                    <input
                      id="input:allocator/quadrants"
                      name="allocator"
                      type="radio"
                      value="quadrants"
                    />

                    <label for="input:allocator/quadrants">
                      Quadrants
                    </label>
                  </li>

                  <li>
                    <input
                      id="input:allocator/dominoes"
                      name="allocator"
                      type="radio"
                      value="dominoes"
                    />

                    <label for="input:allocator/dominoes">
                      Dominoes
                    </label>
                  </li>
                </template>
              </ul>
            </fieldset>

            <fieldset class="placer-field radio-fieldset">
              <legend>Place stones using</legend>

              <ul id="fields:placer" class="fields">
                <template id="template:fields/placer/point">
                  <li>
                    <input
                      id="input:placer/pointsUnaltered"
                      name="placer"
                      type="radio"
                      value="pointsUnaltered"
                      checked
                    />

                    <label for="input:placer/pointsUnaltered">
                      Place points as they are
                    </label>
                  </li>

                  <li>
                    <input
                      id="input:placer/dummy"
                      name="placer"
                      type="radio"
                      value="dummy"
                    />

                    <label for="input:placer/dummy">
                      Dummy
                    </label>
                  </li>
                </template>

                <template id="template:fields/placer/rectangle">
                  <li>
                    <input
                      id="input:placer/distUniform"
                      name="placer"
                      type="radio"
                      value="distUniform"
                      checked
                    />

                    <label for="input:placer/distUniform">
                      Uniform distribution
                    </label>
                  </li>

                  <li>
                    <input
                      id="input:placer/weightsUniform"
                      name="placer"
                      type="radio"
                      value="weightsUniform"
                    />

                    <label for="input:placer/weightsUniform">
                      Uniform weights
                    </label>
                  </li>

                  <li>
                    <input
                      id="input:placer/weightsStair"
                      name="placer"
                      type="radio"
                      value="weightsStair"
                    />

                    <label for="input:placer/weightsStair">
                      Stair shaped weights
                    </label>
                  </li>
                </template>
              </ul>
            </fieldset>

            <fieldset class="weights-field radio-fieldset">
              <legend>Adjust weights by</legend>

              <ul class="fields">
                <li>
                  <input
                    id="input:weightAdjuster/constant"
                    name="weightAdjuster"
                    type="radio"
                    value="constant"
                    checked
                  />

                  <label for="input:weightAdjuster/constant">
                    None
                  </label>
                </li>

                <li>
                  <input
                    id="input:weightAdjuster/linearTaxicabDistance"
                    name="weightAdjuster"
                    type="radio"
                    value="linearTaxicabDistance"
                  />

                  <label for="input:weightAdjuster/linearTaxicabDistance">
                    Multiplying by taxicab distance
                  </label>
                </li>
              </ul>
            </fieldset>
          </div>
        </fieldset>

        <div class="confirm-buttons">
          <button class="submit-button" name="generate">Generate</button>
        </div>
      </form>

      <section class="output">
        <svg id="demo-board" viewBox="0 0 100 100" aria-label="goban">
          <rect
            width="100"
            height="100"
            class="background"
            aria-hidden="true"
          />
        </svg>

        <label class="placements">
          Placements:
          <output form="generator-form" name="placements">
            <data>
              <pre></pre>
            </data>
          </output>
        </label>

        <a id="download-anchor" class="button download-anchor" download>
          Download SGF
        </a>
      </section>
    </main>

    <footer class="main-footer">
      <p>
        Created by Rúnar Berg Baugsson Sigríðarson
      </p>

      <p>
        Challenge me
        <a href="https://online-go.com/player/321307/"><i>@runarberg</i></a>
        on OGS.
      </p>

      <p class="source">
        See source code on
        <a href="https://github.com/runarberg/random-go-stone-placements"
          >GitHub</a
        >.<br />
        <a href="https://github.com/runarberg/random-go-stone-placements/issues"
          ><img
            class="shield"
            alt="GitHub issues"
            src="https://img.shields.io/github/issues/runarberg/random-go-stone-placements"
        /></a>
        <a href="https://github.com/runarberg/random-go-stone-placements/pulls"
          ><img
            class="shield"
            alt="GitHub pull requests"
            src="https://img.shields.io/github/issues-pr/runarberg/random-go-stone-placements"
        /></a>
      </p>

      <small>© <a href="./LICENSE.txt">MIT</a> 2020</small>
    </footer>
  </body>
</html>
